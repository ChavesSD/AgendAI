<!-- View de Configurações da Empresa -->
<div class="d-flex" id="wrapper">
    <!-- Sidebar -->
    <div class="border-end bg-white" id="sidebar-wrapper">
        <div class="sidebar-heading bg-primary text-white py-4 d-flex justify-content-center">
            <div class="logo-container">
                <img src="/public/src/img/LogoAgendAIForFooter.png" alt="AgendAI Logo" class="logo-medium">
            </div>
        </div>
        <div class="list-group list-group-flush">
            <a href="#/company" class="list-group-item list-group-item-action" data-link>
                <i class="fas fa-tachometer-alt me-2"></i> Dashboard
            </a>
            <a href="#/company/calendar" class="list-group-item list-group-item-action" data-link>
                <i class="fas fa-calendar-alt me-2"></i> Calendário
            </a>
            <a href="#/company/appointments" class="list-group-item list-group-item-action" data-link>
                <i class="fas fa-calendar-check me-2"></i> Agendamentos
            </a>
            <a href="#/company/professionals" class="list-group-item list-group-item-action" data-link>
                <i class="fas fa-user-md me-2"></i> Profissionais
            </a>
            <a href="#/company/services" class="list-group-item list-group-item-action" data-link>
                <i class="fas fa-list-alt me-2"></i> Serviços
            </a>
            <a href="#/company/clients" class="list-group-item list-group-item-action" data-link>
                <i class="fas fa-users me-2"></i> Clientes
            </a>
            <a href="#/company/scheduling" class="list-group-item list-group-item-action" data-link>
                <i class="fas fa-link me-2"></i> Página de Agendamento
            </a>
            <a href="#/company/reports" class="list-group-item list-group-item-action" data-link>
                <i class="fas fa-chart-line me-2"></i> Relatórios
            </a>
            <a href="#/company/plan" class="list-group-item list-group-item-action" data-link>
                <i class="fas fa-tag me-2"></i> Meu Plano
            </a>
            <a href="#/company/settings" class="list-group-item list-group-item-action active" data-link>
                <i class="fas fa-cog me-2"></i> Configurações
            </a>
        </div>
    </div>
    
    <!-- Page Content -->
    <div id="page-content-wrapper">
        <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
            <div class="container-fluid">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mt-2 mt-lg-0">
                        <li class="nav-item">
                            <button class="btn btn-outline-secondary btn-sm mt-1" id="logout-button">
                                <i class="fas fa-sign-out-alt me-1"></i> Sair
                            </button>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        
        <!-- Conteúdo da Página -->
        <div class="container-fluid p-4">
            <div class="row mb-4">
                <div class="col-12">
                    <h2 class="mb-3">Configurações</h2>
                    <p class="text-muted">Gerencie as configurações da sua conta e da sua empresa.</p>
                </div>
            </div>
            
            <!-- Tabs de Configurações -->
            <div class="row">
                <div class="col-12">
                    <div class="card shadow mb-4">
                        <div class="card-header py-3 bg-light">
                            <ul class="nav nav-tabs card-header-tabs" id="settingsTabs" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="true">Perfil da Empresa</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="account-tab" data-bs-toggle="tab" data-bs-target="#account" type="button" role="tab" aria-controls="account" aria-selected="false">Conta</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="notifications-tab" data-bs-toggle="tab" data-bs-target="#notifications" type="button" role="tab" aria-controls="notifications" aria-selected="false">Notificações</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="integrations-tab" data-bs-toggle="tab" data-bs-target="#integrations" type="button" role="tab" aria-controls="integrations" aria-selected="false">Integrações</button>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body">
                            <div class="tab-content" id="settingsTabsContent">
                                <!-- Perfil da Empresa -->
                                <div class="tab-pane fade show active" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                                    <h5 class="card-title">Informações da Empresa</h5>
                                    <form>
                                        <div class="row mb-4">
                                            <div class="col-md-3 text-center">
                                                <div class="mb-3">
                                                    <img src="/public/src/img/company-logo-placeholder.png" class="img-fluid rounded-circle mb-3" alt="Logo da Empresa">
                                                    <div class="d-grid">
                                                        <button class="btn btn-primary mb-2" id="changeLogoBtn">
                                                            <i class="fas fa-camera me-2"></i> Trocar Logo
                                                        </button>
                                                        <button class="btn btn-outline-secondary btn-sm" id="removeLogoBtn">
                                                            <i class="fas fa-trash me-2"></i> Remover
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-9">
                                                <div class="row g-3">
                                                    <div class="col-md-6 mb-3">
                                                        <label for="companyName" class="form-label">Nome da Empresa</label>
                                                        <input type="text" class="form-control" id="companyName" value="Empresa Demonstração">
                                                    </div>
                                                    <div class="col-md-6 mb-3">
                                                        <label for="companyCNPJ" class="form-label">CNPJ</label>
                                                        <input type="text" class="form-control" id="companyCNPJ" value="12.345.678/0001-90">
                                                    </div>
                                                    <div class="col-md-6 mb-3">
                                                        <label for="companyPhone" class="form-label">Telefone</label>
                                                        <input type="text" class="form-control" id="companyPhone" value="(11) 3456-7890">
                                                    </div>
                                                    <div class="col-md-6 mb-3">
                                                        <label for="companyEmail" class="form-label">E-mail</label>
                                                        <input type="email" class="form-control" id="companyEmail" value="contato@empresademo.com.br">
                                                    </div>
                                                    <div class="col-12 mb-3">
                                                        <label for="companyAddress" class="form-label">Endereço</label>
                                                        <input type="text" class="form-control" id="companyAddress" value="Av. Paulista, 1000 - Bela Vista">
                                                    </div>
                                                    <div class="col-md-4 mb-3">
                                                        <label for="companyCity" class="form-label">Cidade</label>
                                                        <input type="text" class="form-control" id="companyCity" value="São Paulo">
                                                    </div>
                                                    <div class="col-md-4 mb-3">
                                                        <label for="companyState" class="form-label">Estado</label>
                                                        <select class="form-select" id="companyState">
                                                            <option>Selecione...</option>
                                                            <option value="SP" selected>São Paulo</option>
                                                            <option value="RJ">Rio de Janeiro</option>
                                                            <option value="MG">Minas Gerais</option>
                                                            <option value="RS">Rio Grande do Sul</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-4 mb-3">
                                                        <label for="companyZip" class="form-label">CEP</label>
                                                        <input type="text" class="form-control" id="companyZip" placeholder="00000-000">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <h5 class="card-title mt-4">Horário de Funcionamento</h5>
                                        <div class="table-responsive mb-4">
                                            <table class="table table-bordered">
                                                <thead class="table-light">
                                                    <tr>
                                                        <th>Dia</th>
                                                        <th>Status</th>
                                                        <th>Horário de Abertura</th>
                                                        <th>Horário de Fechamento</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>Segunda-feira</td>
                                                        <td>
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="mondayStatus">
                                                                <label class="form-check-label" for="mondayStatus">Aberto</label>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <input type="time" class="form-control">
                                                        </td>
                                                        <td>
                                                            <input type="time" class="form-control">
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Terça-feira</td>
                                                        <td>
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="tuesdayStatus" checked>
                                                                <label class="form-check-label" for="tuesdayStatus">Aberto</label>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <input type="time" class="form-control" value="09:00">
                                                        </td>
                                                        <td>
                                                            <input type="time" class="form-control" value="18:00">
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Sábado</td>
                                                        <td>
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="saturdayStatus" checked>
                                                                <label class="form-check-label" for="saturdayStatus">Aberto</label>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <input type="time" class="form-control" value="09:00">
                                                        </td>
                                                        <td>
                                                            <input type="time" class="form-control" value="13:00">
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Domingo</td>
                                                        <td>
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="sundayStatus">
                                                                <label class="form-check-label" for="sundayStatus">Fechado</label>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <input type="time" class="form-control" disabled>
                                                        </td>
                                                        <td>
                                                            <input type="time" class="form-control" disabled>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        
                                        <div class="text-end">
                                            <button type="button" class="btn btn-outline-secondary me-2">Cancelar</button>
                                            <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                                        </div>
                                    </form>
                                </div>
                                
                                <!-- Configurações de Conta -->
                                <div class="tab-pane fade" id="account" role="tabpanel" aria-labelledby="account-tab">
                                    <h5 class="card-title">Informações da Conta</h5>
                                    <form>
                                        <div class="row g-3 mb-4">
                                            <div class="col-md-6">
                                                <label for="accountName" class="form-label">Nome</label>
                                                <input type="text" class="form-control" id="accountName" value="João da Silva">
                                            </div>
                                            <div class="col-md-6">
                                                <label for="accountEmail" class="form-label">E-mail</label>
                                                <input type="email" class="form-control" id="accountEmail" value="joao.silva@empresademo.com.br">
                                            </div>
                                        </div>
                                        
                                        <h5 class="card-title mt-4">Alterar Senha</h5>
                                        <div class="row g-3 mb-4">
                                            <div class="col-md-4">
                                                <label for="currentPassword" class="form-label">Senha Atual</label>
                                                <input type="password" class="form-control" id="currentPassword">
                                            </div>
                                            <div class="col-md-4">
                                                <label for="newPassword" class="form-label">Nova Senha</label>
                                                <input type="password" class="form-control" id="newPassword">
                                            </div>
                                            <div class="col-md-4">
                                                <label for="confirmPassword" class="form-label">Confirmar Nova Senha</label>
                                                <input type="password" class="form-control" id="confirmPassword">
                                            </div>
                                        </div>
                                        
                                        <h5 class="card-title mt-4">Idioma e Fuso Horário</h5>
                                        <div class="row g-3 mb-4">
                                            <div class="col-md-6">
                                                <label for="language" class="form-label">Idioma</label>
                                                <select class="form-select" id="language">
                                                    <option value="pt_BR" selected>Português (Brasil)</option>
                                                    <option value="en_US">English (US)</option>
                                                    <option value="es_ES">Español</option>
                                                </select>
                                            </div>
                                            <div class="col-md-6">
                                                <label for="timezone" class="form-label">Fuso Horário</label>
                                                <select class="form-select" id="timezone">
                                                    <option value="America/Sao_Paulo" selected>Brasília (GMT-3)</option>
                                                    <option value="America/New_York">Nova York (GMT-4)</option>
                                                    <option value="Europe/London">Londres (GMT+1)</option>
                                                    <option value="Europe/Paris">Paris (GMT+2)</option>
                                                </select>
                                            </div>
                                        </div>
                                        
                                        <div class="text-end">
                                            <button type="button" class="btn btn-outline-secondary me-2">Cancelar</button>
                                            <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                                        </div>
                                    </form>
                                </div>
                                
                                <!-- Configurações de Notificações -->
                                <div class="tab-pane fade" id="notifications" role="tabpanel" aria-labelledby="notifications-tab">
                                    <h5 class="card-title">Preferências de Notificações</h5>
                                    <form>
                                        <div class="mb-4">
                                            <h6 class="fw-bold">Notificações por E-mail</h6>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" id="emailNewAppointment" checked>
                                                <label class="form-check-label" for="emailNewAppointment">
                                                    Novos agendamentos
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" id="emailCanceledAppointment" checked>
                                                <label class="form-check-label" for="emailCanceledAppointment">
                                                    Cancelamentos de agendamentos
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" id="emailDailySchedule" checked>
                                                <label class="form-check-label" for="emailDailySchedule">
                                                    Resumo diário da agenda
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" id="emailMarketingUpdates">
                                                <label class="form-check-label" for="emailMarketingUpdates">
                                                    Atualizações e novidades do AgendAI
                                                </label>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-4">
                                            <h6 class="fw-bold">Notificações para Clientes</h6>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" id="clientConfirmation" checked>
                                                <label class="form-check-label" for="clientConfirmation">
                                                    Enviar confirmação de agendamento
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" id="clientReminder" checked>
                                                <label class="form-check-label" for="clientReminder">
                                                    Enviar lembrete 24 horas antes
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" id="clientThankYou" checked>
                                                <label class="form-check-label" for="clientThankYou">
                                                    Enviar agradecimento após atendimento
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" id="clientFeedback" checked>
                                                <label class="form-check-label" for="clientFeedback">
                                                    Solicitar avaliação do atendimento
                                                </label>
                                            </div>
                                        </div>
                                        
                                        <div class="text-end">
                                            <button type="button" class="btn btn-outline-secondary me-2">Restaurar Padrões</button>
                                            <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                                        </div>
                                    </form>
                                </div>
                                
                                <!-- Configurações de Integrações -->
                                <div class="tab-pane fade" id="integrations" role="tabpanel" aria-labelledby="integrations-tab">
                                    <h5 class="card-title">Integrações</h5>
                                    
                                    <div class="card mb-4">
                                        <div class="card-header">
                                            <h5 class="mb-0">Integrações</h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="row mb-4">
                                                <div class="col-md-12">
                                                    <div class="d-flex align-items-center p-3 border rounded mb-3">
                                                        <img src="/public/src/img/google-calendar-icon.png" alt="Google Calendar" class="me-3">
                                                        <div class="flex-grow-1">
                                                            <h6 class="mb-1">Google Calendar</h6>
                                                            <p class="text-muted mb-0">Sincronize os agendamentos com seu calendário Google</p>
                                                        </div>
                                                        <div>
                                                            <button class="btn btn-primary">Conectar</button>
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="d-flex align-items-center p-3 border rounded mb-3">
                                                        <img src="/public/src/img/whatsapp-icon.png" alt="WhatsApp" class="me-3">
                                                        <div class="flex-grow-1">
                                                            <h6 class="mb-1">WhatsApp</h6>
                                                            <p class="text-muted mb-0">Envie lembretes e confirmações via WhatsApp</p>
                                                        </div>
                                                        <div>
                                                            <button class="btn btn-primary">Conectar</button>
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="d-flex align-items-center p-3 border rounded">
                                                        <img src="/public/src/img/instagram-icon.png" alt="Instagram" class="me-3">
                                                        <div class="flex-grow-1">
                                                            <h6 class="mb-1">Instagram</h6>
                                                            <p class="text-muted mb-0">Compartilhe seu perfil de agendamento no Instagram</p>
                                                        </div>
                                                        <div>
                                                            <button class="btn btn-primary">Conectar</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Inicializar as abas do Bootstrap
        var tabElems = document.querySelectorAll('#settingsTabs [data-bs-toggle="tab"]');
        Array.from(tabElems).forEach(function(tabElem) {
            new bootstrap.Tab(tabElem);
        });
        
        // Alternar label de aberto/fechado para dias da semana
        var dayStatusInputs = document.querySelectorAll('.form-check-input[type="checkbox"]');
        if (dayStatusInputs.length > 0) {
            Array.from(dayStatusInputs).forEach(function(input) {
                if (input.id.includes('Status')) {
                    input.addEventListener('change', function() {
                        var label = input.nextElementSibling;
                        var timeInputs = input.closest('tr').querySelectorAll('input[type="time"]');
                        if (input.checked) {
                            label.textContent = 'Aberto';
                            Array.from(timeInputs).forEach(function(timeInput) {
                                timeInput.disabled = false;
                            });
                        } else {
                            label.textContent = 'Fechado';
                            Array.from(timeInputs).forEach(function(timeInput) {
                                timeInput.disabled = true;
                            });
                        }
                    });
                }
            });
        }
    });
</script>

<style>
    /* Estilos específicos para a página de configurações */
    .form-check-input:checked {
        background-color: #1cc88a;
        border-color: #1cc88a;
    }
</style> 